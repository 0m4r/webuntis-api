"use strict";(globalThis.webpackChunk_0m4r_apps_docusaurus=globalThis.webpackChunk_0m4r_apps_docusaurus||[]).push([[4486],{1184(e,s,i){i.d(s,{R:()=>a,x:()=>l});var n=i(4041);const t={},r=n.createContext(t);function a(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:s},e.children)}},3570(e,s,i){i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>o,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"api/index","title":"WebUntis API (monorepo)","description":"This Nx monorepo hosts the webuntis-api library, examples, and docs. It is a Node.js wrapper for the WebUntis JSON RPC API.","source":"@site/versioned_docs/version-3.0.0/api/index.md","sourceDirName":"api","slug":"/api/","permalink":"/webuntis-api/api/","draft":false,"unlisted":false,"editUrl":"https://github.com/0m4r/webuntis-api/tree/main/apps/docusaurus/versioned_docs/version-3.0.0/api/index.md","tags":[],"version":"3.0.0","frontMatter":{},"sidebar":"api","previous":{"title":"Enumeration: WebUntisElementType","permalink":"/webuntis-api/api/enumerations/WebUntisElementType"},"next":{"title":"Interface: Absence","permalink":"/webuntis-api/api/interfaces/Absence"}}');var t=i(1085),r=i(1184);const a={},l="WebUntis API (monorepo)",d={},c=[{value:"Monorepo layout",id:"monorepo-layout",level:2},{value:"Install (library consumers)",id:"install-library-consumers",level:2},{value:"Examples",id:"examples",level:2},{value:"User/Password Login",id:"userpassword-login",level:3},{value:"QR Code Login",id:"qr-code-login",level:3},{value:"User/Secret Login",id:"usersecret-login",level:3},{value:"Anonymous Login",id:"anonymous-login",level:3},{value:"Notice",id:"notice",level:2},{value:"Enumerations",id:"enumerations",level:2},{value:"Classes",id:"classes",level:2},{value:"Interfaces",id:"interfaces",level:2},{value:"Type Aliases",id:"type-aliases",level:2},{value:"References",id:"references",level:2},{value:"WebUntis",id:"webuntis",level:3}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"webuntis-api-monorepo",children:"WebUntis API (monorepo)"})}),"\n",(0,t.jsxs)(s.p,{children:["This Nx monorepo hosts the ",(0,t.jsx)(s.code,{children:"webuntis-api"})," library, examples, and docs. It is a Node.js wrapper for the WebUntis JSON RPC API."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/",children:"Online docs"})}),"\n",(0,t.jsxs)(s.li,{children:["Upstream inspiration: built on top of the work in ",(0,t.jsx)(s.a,{href:"https://github.com/SchoolUtils/WebUntis",children:"SchoolUtils/WebUntis"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"monorepo-layout",children:"Monorepo layout"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"packages/webuntis-api"})," \u2014 core library source, Rollup build, Jest tests.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Build: ",(0,t.jsx)(s.code,{children:"yarn nx run webuntis-api:build"})]}),"\n",(0,t.jsxs)(s.li,{children:["Test: ",(0,t.jsx)(s.code,{children:"yarn nx run webuntis-api:test"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"apps/examples"})," \u2014 TypeScript usage demos; bundle with ",(0,t.jsx)(s.code,{children:"yarn nx run examples:build"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"apps/docusaurus/docs/api"})," \u2014 generated API reference (TypeDoc) output for the docs site."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Shared tooling lives at the workspace root. If Nx shows stale project graph errors, run ",(0,t.jsx)(s.code,{children:"NX_DAEMON=false nx reset"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"install-library-consumers",children:"Install (library consumers)"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"yarn add @0m4r/webuntis-api\n# or\nnpm i @0m4r/webuntis-api\n# or\npnpm i @0m4r/webuntis-api\n"})}),"\n",(0,t.jsx)(s.p,{children:"The package ships CJS and ESM builds. Primary target is Node.js; browser support is not guaranteed."}),"\n",(0,t.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(s.h3,{id:"userpassword-login",children:"User/Password Login"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:'import { WebUntis } from "webuntis-api";\n\nconst untis = new WebUntis("school", "username", "password", "school.webuntis.com");\n\nawait untis.login();\nconst timetable = await untis.getOwnTimetableForToday();\n\nconsole.log(timetable);\n'})}),"\n",(0,t.jsx)(s.h3,{id:"qr-code-login",children:"QR Code Login"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:'import { WebUntisQR } from "webuntis-api";\nimport { URL } from "url";\nimport { authenticator as Authenticator } from "otplib";\n\n// The result of the scanned QR Code\nconst QRCodeData = "untis://setschool?url=[...]&school=[...]&user=[...]&key=[...]&schoolNumber=[...]";\n\nconst untis = new WebUntisQR(QRCodeData, "custom-identity", Authenticator, URL);\n\nawait untis.login();\nconst timetable = await untis.getOwnTimetableForToday();\n\nconsole.log(timetable);\n'})}),"\n",(0,t.jsx)(s.h3,{id:"usersecret-login",children:"User/Secret Login"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:'import { WebUntisSecretAuth } from "webuntis-api";\nimport { authenticator as Authenticator } from "otplib";\n\nconst secret = "NL04FGY4FSY5";\n\nconst untis = new WebUntisSecretAuth(\n  "school",\n  "username",\n  secret,\n  "school.webuntis.com",\n  "custom-identity",\n  Authenticator,\n);\n\nawait untis.login();\nconst timetable = await untis.getOwnTimetableForToday();\n\nconsole.log(timetable);\n'})}),"\n",(0,t.jsx)(s.h3,{id:"anonymous-login",children:"Anonymous Login"}),"\n",(0,t.jsx)(s.p,{children:"Only if your school supports public access."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:'import { WebUntisAnonymousAuth, WebUntisElementType } from "webuntis-api";\n\nconst untis = new WebUntisAnonymousAuth("school", "school.webuntis.com");\n\nawait untis.login();\nconst classes = await untis.getClasses();\nconst timetable = await untis.getTimetableForToday(classes[0].id, WebUntisElementType.CLASS);\n\nconsole.log(timetable);\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"notice",children:"Notice"}),"\n",(0,t.jsx)(s.p,{children:"There is no affiliation with Untis GmbH. This material is provided without any endorsement or warranty, and its use is entirely at the user\u2019s own risk."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"enumerations",children:"Enumerations"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Enumeration"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/enumerations/WebUntisDay",children:"WebUntisDay"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/enumerations/WebUntisElementType",children:"WebUntisElementType"})}),(0,t.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"classes",children:"Classes"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Class"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/classes/Base",children:"Base"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/classes/WebUntisSecretAuth",children:"WebUntisSecretAuth"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/classes/WebUntisQR",children:"WebUntisQR"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/classes/WebUntisAnonymousAuth",children:"WebUntisAnonymousAuth"})}),(0,t.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Interface"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/SchoolYear",children:"SchoolYear"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/MessagesOfDay",children:"MessagesOfDay"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/NewsWidget",children:"NewsWidget"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Inbox",children:"Inbox"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/InboxMessage",children:"InboxMessage"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/InboxSender",children:"InboxSender"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/ShortData",children:"ShortData"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Lesson",children:"Lesson"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Homeworks",children:"Homeworks"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Homework",children:"Homework"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/HomeworkRecord",children:"HomeworkRecord"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Subject",children:"Subject"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/TimeUnit",children:"TimeUnit"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Timegrid",children:"Timegrid"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Exam",children:"Exam"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebElement",children:"WebElement"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebElementData",children:"WebElementData"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebTimetableRow",children:"WebTimetableRow"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebTimetableExam",children:"WebTimetableExam"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebTimetableElementRef",children:"WebTimetableElementRef"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebElementInfo",children:"WebElementInfo"})}),(0,t.jsx)(s.td,{children:"Element metadata shape used by classes/rooms/subjects in your example"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebTeacherInfo",children:"WebTeacherInfo"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebTimetableResolvedElement",children:"WebTimetableResolvedElement"})}),(0,t.jsxs)(s.td,{children:["A period-element ref with its resolved ",(0,t.jsx)(s.code,{children:"element"})," metadata. (Your generator wrote ",(0,t.jsx)(s.code,{children:"any // circular //"})," \u2014 we just model it properly.)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/WebTimetableResolvedTeacherElement",children:"WebTimetableResolvedTeacherElement"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Teacher",children:"Teacher"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Student",children:"Student"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Room",children:"Room"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Klasse",children:"Klasse"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Department",children:"Department"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Holiday",children:"Holiday"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/ColorEntity",children:"ColorEntity"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/LsEntity",children:"LsEntity"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/CodesEntity",children:"CodesEntity"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/StatusData",children:"StatusData"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Absences",children:"Absences"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Absence",children:"Absence"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/interfaces/Excuse",children:"Excuse"})}),(0,t.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"type-aliases",children:"Type Aliases"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Type Alias"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/type-aliases/Authenticator",children:"Authenticator"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/type-aliases/WebAPITimetable",children:"WebAPITimetable"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/type-aliases/WebTimetableIs",children:"WebTimetableIs"})}),(0,t.jsx)(s.td,{children:"-"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"/webuntis-api/api/type-aliases/SessionInformation",children:"SessionInformation"})}),(0,t.jsx)(s.td,{children:"-"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,t.jsx)(s.h3,{id:"webuntis",children:"WebUntis"}),"\n",(0,t.jsxs)(s.p,{children:["Renames and re-exports ",(0,t.jsx)(s.a,{href:"/webuntis-api/api/classes/Base",children:"Base"})]})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);