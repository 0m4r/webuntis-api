"use strict";(globalThis.webpackChunk_0m4r_apps_docusaurus=globalThis.webpackChunk_0m4r_apps_docusaurus||[]).push([[6903],{1184(e,n,s){s.d(n,{R:()=>r,x:()=>a});var i=s(4041);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},1291(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"intro","title":"intro","description":"","source":"@site/docs/intro.mdx","sourceDirName":".","slug":"/intro","permalink":"/webuntis-api/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/0m4r/webuntis-api/tree/main/apps/docusaurus/docs/intro.mdx","tags":[],"version":"current","frontMatter":{}}');var t=s(1085),o=s(1184),r=s(1476);const a={},l=void 0,c={},u=[...r.RM];function d(e){return(0,t.jsx)(r.Ay,{})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d()}},1476(e,n,s){s.d(n,{Ay:()=>a,RM:()=>o});var i=s(1085),t=s(1184);const o=[{value:"Monorepo layout",id:"monorepo-layout",level:2},{value:"Install (library consumers)",id:"install-library-consumers",level:2},{value:"Examples",id:"examples",level:2},{value:"User/Password Login",id:"userpassword-login",level:3},{value:"QR Code Login",id:"qr-code-login",level:3},{value:"User/Secret Login",id:"usersecret-login",level:3},{value:"Anonymous Login",id:"anonymous-login",level:3},{value:"Notice",id:"notice",level:2}];function r(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"webuntis-api-monorepo",children:"WebUntis API (monorepo)"})}),"\n",(0,i.jsxs)(n.p,{children:["This Nx monorepo hosts the ",(0,i.jsx)(n.code,{children:"webuntis-api"})," library, examples, and docs. It is a Node.js wrapper for the WebUntis JSON RPC API."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/",children:"Online docs"})}),"\n",(0,i.jsxs)(n.li,{children:["Upstream inspiration: built on top of the work in ",(0,i.jsx)(n.a,{href:"https://github.com/SchoolUtils/WebUntis",children:"SchoolUtils/WebUntis"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"monorepo-layout",children:"Monorepo layout"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"packages/webuntis-api"})," \u2014 core library source, Rollup build, Jest tests.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Build: ",(0,i.jsx)(n.code,{children:"yarn nx run webuntis-api:build"})]}),"\n",(0,i.jsxs)(n.li,{children:["Test: ",(0,i.jsx)(n.code,{children:"yarn nx run webuntis-api:test"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"apps/examples"})," \u2014 TypeScript usage demos; bundle with ",(0,i.jsx)(n.code,{children:"yarn nx run examples:build"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"apps/docusaurus/docs/api"})," \u2014 generated API reference (TypeDoc) output for the docs site."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Shared tooling lives at the workspace root. If Nx shows stale project graph errors, run ",(0,i.jsx)(n.code,{children:"NX_DAEMON=false nx reset"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"install-library-consumers",children:"Install (library consumers)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn add @0m4r/webuntis-api\n# or\nnpm i @0m4r/webuntis-api\n# or\npnpm i @0m4r/webuntis-api\n"})}),"\n",(0,i.jsx)(n.p,{children:"The package ships CJS and ESM builds. Primary target is Node.js; browser support is not guaranteed."}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"userpassword-login",children:"User/Password Login"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'import { WebUntis } from "webuntis-api";\n\nconst untis = new WebUntis("school", "username", "password", "school.webuntis.com");\n\nawait untis.login();\nconst timetable = await untis.getOwnTimetableForToday();\n\nconsole.log(timetable);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"qr-code-login",children:"QR Code Login"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'import { WebUntisQR } from "webuntis-api";\nimport { URL } from "url";\nimport { authenticator as Authenticator } from "otplib";\n\n// The result of the scanned QR Code\nconst QRCodeData = "untis://setschool?url=[...]&school=[...]&user=[...]&key=[...]&schoolNumber=[...]";\n\nconst untis = new WebUntisQR(QRCodeData, "custom-identity", Authenticator, URL);\n\nawait untis.login();\nconst timetable = await untis.getOwnTimetableForToday();\n\nconsole.log(timetable);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"usersecret-login",children:"User/Secret Login"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'import { WebUntisSecretAuth } from "webuntis-api";\nimport { authenticator as Authenticator } from "otplib";\n\nconst secret = "NL04FGY4FSY5";\n\nconst untis = new WebUntisSecretAuth(\n  "school",\n  "username",\n  secret,\n  "school.webuntis.com",\n  "custom-identity",\n  Authenticator,\n);\n\nawait untis.login();\nconst timetable = await untis.getOwnTimetableForToday();\n\nconsole.log(timetable);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"anonymous-login",children:"Anonymous Login"}),"\n",(0,i.jsx)(n.p,{children:"Only if your school supports public access."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'import { WebUntisAnonymousAuth, WebUntisElementType } from "webuntis-api";\n\nconst untis = new WebUntisAnonymousAuth("school", "school.webuntis.com");\n\nawait untis.login();\nconst classes = await untis.getClasses();\nconst timetable = await untis.getTimetableForToday(classes[0].id, WebUntisElementType.CLASS);\n\nconsole.log(timetable);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"notice",children:"Notice"}),"\n",(0,i.jsx)(n.p,{children:"There is no affiliation with Untis GmbH. This material is provided without any endorsement or warranty, and its use is entirely at the user\u2019s own risk."}),"\n",(0,i.jsx)(n.hr,{})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}}}]);